{"ast":null,"code":"var _jsxFileName = \"/Users/s/Desktop/react/ironhackpro2/src/components/App.js\";\nimport React from 'react';\nimport SearchBar from './SearchBar';\nimport youtube from '../apis/youtube';\nimport VideoList from './VideoList';\nimport VideoDetail from './VideoDetail';\nimport Header from './Header';\nimport CommentList from './CommentList';\nimport CommentAdd from './CommentAdd';\nimport unsplash from '../apis/unsplash';\nimport PicsearchBar from './PicsearchBar';\nimport ImageCard from './ImageCard';\nimport PicList from './PicList';\nimport UserLocation from './UserLocation.js';\nimport Navbar from './Navbar.js';\nimport Axios from 'axios';\nconst KEY = 'AIzaSyDJE9kiBmQ8Z568QfpqzoazgP_F6391Qqc';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      videos: [],\n      selectedVideo: null,\n      pics: [],\n      userPosition: {\n        latitude: 35,\n        longitude: 139\n      },\n      weather: {},\n      regionInput: \"\"\n    };\n\n    this.onTextSubmit = async e => {\n      //这个ontextsubmit 用来接受searchbar js里面 onformsubmit传递回来的search中的文本text，在以相对应的文本通过youtube api搜索相关视频\n      const response = await youtube.get('/search', {\n        params: {\n          q: e,\n          part: 'snippet',\n          maxResults: 6,\n          type: 'video',\n          key: KEY\n        }\n      });\n      this.setState({\n        videos: response.data.items,\n        selectedVideo: response.data.items[0]\n      });\n    };\n\n    this.onPicSearchSubmit = async e => {\n      const response = await unsplash.get('/search/photos', {\n        params: {\n          query: e\n        }\n      });\n      this.setState({\n        pics: response.data.results\n      });\n    };\n\n    this.onVideoSelect = video => {\n      this.setState({\n        selectedVideo: video\n      });\n    };\n\n    this.addComment = e => {\n      this.state.comments.unshift(e);\n      this.setState({\n        e\n      });\n    };\n\n    this.login = () => {\n      this.props.history.replace('/login');\n    };\n\n    this.signup = () => {\n      this.props.history.replace('/signup');\n    };\n\n    this.changeRegion = value => {\n      this.setState({\n        regionInput: value\n      });\n    };\n\n    this.changeLocation = e => {\n      e.preventDefault();\n      Axios.get(`http://api.weatherstack.com/current?access_key=136d3d79f53cbbbf65c4d916ac33c569&query=${this.state.regionInput}`).then(res => {\n        let userWeather = {\n          temperature: res.data.current.temperature,\n          description: res.data.current.weather_descriptions[0],\n          location: res.data.location.name,\n          region: res.data.location.region,\n          country: res.data.location.country,\n          wind_speed: res.data.current.wind_speed,\n          pressure: res.data.current.pressure,\n          precip: res.data.current.precip,\n          humidity: res.data.current.humidity,\n          img: res.data.current.weather_icons\n        };\n        this.setState({\n          weather: userWeather\n        });\n      });\n    };\n  }\n\n  // defult seacrching， 在打开网页后不输入任何文字在搜索栏直接显示一些推荐视频\n  componentDidMount() {\n    this.onTextSubmit('Ironhack Miami');\n    this.onPicSearchSubmit('beach');\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        let pos = {\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude\n        };\n        this.setState({\n          userPosition: pos\n        }); //Weather Api call\n\n        Axios.get(`http://api.weatherstack.com/current?access_key=136d3d79f53cbbbf65c4d916ac33c569&query=${this.state.userPosition.latitude},${this.state.userPosition.longitude}`).then(res => {\n          let userWeather = {\n            temperature: res.data.current.temperature,\n            description: res.data.current.weather_descriptions[0],\n            location: res.data.location.name,\n            region: res.data.location.region,\n            country: res.data.location.country,\n            wind_speed: res.data.current.wind_speed,\n            pressure: res.data.current.pressure,\n            precip: res.data.current.precip,\n            humidity: res.data.current.humidity,\n            img: res.data.current.weather_icons\n          };\n          this.setState({\n            weather: userWeather\n          });\n        });\n      });\n    }\n  } // 在任何时候如果有人按下回车/ 在search bar打字并submit 这个search form\n  // 之后通过YouTube的api让页面跳转到youtube来寻找被search的相关视频\n  // 所以需要一个回调函数，这个回调函数会在任何人想要通过searchbar搜索视频的时候被调用\n  // 当有人搜索视频的时候，是一个事件\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui inverted vertical masthead center algned segment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui large secondary inverted pointing menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"active item\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }, \"Home\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"active item\",\n      href: \"https://youtube.com\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    }, \"Youtube\"), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"active item\",\n      href: \"https://www.tripadvisor.com/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, \"Tripadvisor\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ui inverted button\",\n      onClick: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 25\n      }\n    }, \"Log In\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ui inverted button\",\n      onClick: this.signup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 25\n      }\n    }, \"Sign Up\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui text container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"ui inverted header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, \"Resaxch\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, \"\\u201CI wish I were travelling with you! Have a great time and make lots of wonderful memories.\\u201D\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui huge primary button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, \"Take a Weather\", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"right arrow icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui vertical strip segment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"downmid ui container\",\n      style: {\n        marginTop: '40px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      changeRegion: this.changeRegion,\n      changeLocation: this.changeLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(UserLocation, {\n      weather: this.state.weather,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui vertical stripe segment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"midui ui container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, \" \", /*#__PURE__*/React.createElement(SearchBar, {\n      onTextSubmit: this.onTextSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"eleven wide column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(VideoDetail, {\n      video: this.state.selectedVideo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 20\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"five wide column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(VideoList, {\n      onVideoSelect: this.onVideoSelect,\n      videos: this.state.videos,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 16\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui vertical strip segment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"downmid ui container\",\n      style: {\n        marginTop: '40px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(PicsearchBar, {\n      onPicSearchSubmit: this.onPicSearchSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PicList, {\n      pics: this.state.pics,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui inverted vertical footer segment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui stackable inverted divided equal height stackable grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"three wide column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"ui inverted header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }\n    }, \"About Us\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui inverted link list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"3\",\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }\n    }, \"Map\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 13\n      }\n    }, \"Hit Hot\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }, \"Whoa\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"three wide column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"ui inverted header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }\n    }, \"Contact Us\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui inverted link list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://github.com/slava123445\",\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    }, \"Viacheslav Frolov\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://github.com/i-le\",\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }\n    }, \"Stephen Zheng\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"seven wide column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"ui inverted header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }\n    }, \"Resaxch\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }\n    }, \"Weather, Video, Picture, on your call ! All welcome to Resaxch, search and relax, and enjoy yoursleves!\"))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/s/Desktop/react/ironhackpro2/src/components/App.js"],"names":["React","SearchBar","youtube","VideoList","VideoDetail","Header","CommentList","CommentAdd","unsplash","PicsearchBar","ImageCard","PicList","UserLocation","Navbar","Axios","KEY","App","Component","state","videos","selectedVideo","pics","userPosition","latitude","longitude","weather","regionInput","onTextSubmit","e","response","get","params","q","part","maxResults","type","key","setState","data","items","onPicSearchSubmit","query","results","onVideoSelect","video","addComment","comments","unshift","login","props","history","replace","signup","changeRegion","value","changeLocation","preventDefault","then","res","userWeather","temperature","current","description","weather_descriptions","location","name","region","country","wind_speed","pressure","precip","humidity","img","weather_icons","componentDidMount","navigator","geolocation","getCurrentPosition","position","pos","coords","render","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SearchBar from './SearchBar';\nimport youtube from '../apis/youtube';\nimport VideoList from './VideoList';\nimport VideoDetail from './VideoDetail';\nimport Header from './Header';\nimport CommentList from './CommentList';\nimport CommentAdd from './CommentAdd';\nimport unsplash from '../apis/unsplash';\nimport PicsearchBar from './PicsearchBar';\nimport ImageCard from './ImageCard';\nimport PicList from './PicList';\nimport UserLocation from './UserLocation.js';\nimport Navbar from './Navbar.js'\nimport Axios from 'axios';\n\n\n\n\nconst KEY = 'AIzaSyDJE9kiBmQ8Z568QfpqzoazgP_F6391Qqc';\n\n\nclass App extends React.Component {\n    // 开始页面的时候为0个video， 当用户使用searchbar输入text寻找视频的时候，\n    // 再用video: response.data.items传回state\n    state = {\n        videos: [], \n        selectedVideo: null,\n        pics: [],\n        userPosition: {\n            latitude: 35,\n            longitude: 139\n          },\n          weather: {},\n          regionInput: \"\"\n    } \n// defult seacrching， 在打开网页后不输入任何文字在搜索栏直接显示一些推荐视频\n    componentDidMount() {\n        this.onTextSubmit('Ironhack Miami')\n        this.onPicSearchSubmit('beach')\n\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(position => {\n      \n              \n              let pos = {\n                latitude: position.coords.latitude,\n                longitude: position.coords.longitude\n              }\n      \n              this.setState({ userPosition: pos });\n      \n              //Weather Api call\n              Axios.get(`http://api.weatherstack.com/current?access_key=136d3d79f53cbbbf65c4d916ac33c569&query=${this.state.userPosition.latitude},${this.state.userPosition.longitude}`).then(res => {\n      \n                let userWeather = {\n                  temperature: res.data.current.temperature,\n                  description: res.data.current.weather_descriptions[0],\n                  location: res.data.location.name,\n                  region: res.data.location.region,\n                  country: res.data.location.country,\n                  wind_speed: res.data.current.wind_speed,\n                  pressure: res.data.current.pressure,\n                  precip: res.data.current.precip,\n                  humidity: res.data.current.humidity,\n                  img: res.data.current.weather_icons\n                }\n                      \n                       \n                this.setState({ weather: userWeather });\n              })\n            })\n          }\n    }\n    // 在任何时候如果有人按下回车/ 在search bar打字并submit 这个search form\n    // 之后通过YouTube的api让页面跳转到youtube来寻找被search的相关视频\n    // 所以需要一个回调函数，这个回调函数会在任何人想要通过searchbar搜索视频的时候被调用\n    // 当有人搜索视频的时候，是一个事件\n    onTextSubmit = async e => { //这个ontextsubmit 用来接受searchbar js里面 onformsubmit传递回来的search中的文本text，在以相对应的文本通过youtube api搜索相关视频\n        const response = await youtube.get('/search', {\n            params: {\n                q: e,\n                part: 'snippet',\n                maxResults: 6,\n                type: 'video',\n                key: KEY\n            }\n        })\n        this.setState({\n            videos: response.data.items,\n            selectedVideo: response.data.items[0]\n        })\n    }\n    \n    onPicSearchSubmit = async e => {\n        const response = await unsplash.get('/search/photos', {\n            params: {query: e}\n        })\n        this.setState({pics: response.data.results})\n    }\n\n\n    //每有一个state 就会有一个call back的回调函数\n    // 每个call back的回调函数都是用来接收用户在页面输入/点击操作后传进来的数据\n    // app最后再使用setState来更改原有的state，用新的（用户反馈的）来代替\n    // 如何修改数据，就是如何修改state.修改了state,react 就会改变页面的内容  \n        onVideoSelect = video => {\n            this.setState({selectedVideo: video})\n    }\n\n        addComment = (e) => {\n            this.state.comments.unshift(e)\n            this.setState({e})\n        }\n\n\n\n        login = () => {\n          this.props.history.replace('/login')\n        }\n\n\n        signup = () => {\n          this.props.history.replace('/signup')\n        }\n\n\n        changeRegion = (value) => {\n            this.setState({ regionInput: value })\n          }\n        \n          \n          changeLocation = (e) => {\n        \n            e.preventDefault()\n        \n            Axios.get(`http://api.weatherstack.com/current?access_key=136d3d79f53cbbbf65c4d916ac33c569&query=${this.state.regionInput}`).then(res => {\n        \n              let userWeather = {\n                temperature: res.data.current.temperature,\n                description: res.data.current.weather_descriptions[0],\n                location: res.data.location.name,\n                region: res.data.location.region,\n                country: res.data.location.country,\n                wind_speed: res.data.current.wind_speed,\n                pressure: res.data.current.pressure,\n                precip: res.data.current.precip,\n                humidity: res.data.current.humidity,\n                img: res.data.current.weather_icons\n              }\n        \n              this.setState({ weather: userWeather });\n        \n            })\n          }\n\n\n    render() {\n        return (\n            <div>\n            <div className=\"ui inverted vertical masthead center algned segment\">\n                <div className=\"ui container\">\n                <div className=\"ui large secondary inverted pointing menu\">\n                    <a className=\"active item\" href=\"#\">Home</a>\n                    <a className=\"active item\" href=\"https://youtube.com\">Youtube</a>\n                    <a className=\"active item\" href=\"https://www.tripadvisor.com/\">Tripadvisor</a>\n                    <div className=\"right item\">\n                        <button className=\"ui inverted button\" onClick={this.login}>Log In</button>\n                        <button className=\"ui inverted button\" onClick={this.signup}>Sign Up</button>\n                    </div>\n                </div>\n                </div>\n                <div className=\"ui text container\">\n                <h1 className=\"ui inverted header\">\n                    Resaxch\n                </h1>\n                <h2>“I wish I were travelling with you! Have a great time and make lots of wonderful memories.”</h2>\n                <div className=\"ui huge primary button\">Take a Weather \n                <i className=\"right arrow icon\"></i>\n                </div>\n                </div>\n            </div>\n\n            <div className=\"ui vertical strip segment\">\n            <div className=\"downmid ui container\" style={{marginTop: '40px'}}>\n            <Navbar changeRegion={this.changeRegion} changeLocation={this.changeLocation} />\n            <UserLocation weather={this.state.weather} />\n            </div>\n        </div>\n\n\n\n\n            <div className=\"ui vertical stripe segment\">\n            <div className=\"midui ui container\"> {/* ui container在App父类模块中， 控制整个search bar子模块使其margin 和 padding 左右*/}\n               <SearchBar onTextSubmit={this.onTextSubmit} />\n               <div className=\"ui grid\">\n               <div className=\"ui row\">\n               <div className=\"eleven wide column\">\n                   <VideoDetail video={this.state.selectedVideo} />\n               </div>            \n               <div className=\"five wide column\">\n               <VideoList onVideoSelect={this.onVideoSelect} videos={this.state.videos} />\n    </div>\n    </div>\n    </div>\n    </div>\n    </div>\n    \n           \n            \n\n\n\n            <div className=\"ui vertical strip segment\">\n            <div className=\"downmid ui container\" style={{marginTop: '40px'}}>\n            <PicsearchBar onPicSearchSubmit={this.onPicSearchSubmit} />\n            <PicList pics={this.state.pics} />\n            </div>\n        </div>\n\n\n\n\n\n\n\n        <div className=\"ui inverted vertical footer segment\">\n    <div className=\"ui container\">\n      <div className=\"ui stackable inverted divided equal height stackable grid\">\n        <div className=\"three wide column\">\n          <h4 className=\"ui inverted header\">About Us</h4>\n          <div className=\"ui inverted link list\">\n            <a href=\"3\" className=\"item\">Map</a>\n            <a href=\"#\" className=\"item\">Hit Hot</a>\n            <a href=\"#\" className=\"item\">Whoa</a>\n            <a href=\"#\" className=\"item\"></a>\n          </div>\n        </div>\n        <div className=\"three wide column\">\n          <h4 className=\"ui inverted header\">Contact Us</h4>\n          <div className=\"ui inverted link list\">\n            <a href=\"https://github.com/slava123445\" className=\"item\">Viacheslav Frolov</a>\n            <a href=\"https://github.com/i-le\" className=\"item\">Stephen Zheng</a>\n            <a href=\"#\" className=\"item\"></a>\n            <a href=\"#\" className=\"item\"></a>\n          </div>\n        </div>\n        <div className=\"seven wide column\">\n          <h4 className=\"ui inverted header\">Resaxch</h4>\n          <p>Weather, Video, Picture, on your call ! All welcome to Resaxch, search and relax, and enjoy yoursleves!</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n\n\n\n\n\n\n    </div>   \n        )\n    }\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}